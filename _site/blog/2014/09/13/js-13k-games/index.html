<!doctype html>
<head>
  <meta http-equiv="content-type" content="text/html; carset=utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta description="Littleball is a place for games and game development. Aimed directly at the web and what it can deliver.">

  <title>Wisp - Js13kGames</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    html, body { height: 100%; min-height: 100%; }

    body {
      background-color: #333;
      font: 13px 'Open Sans', sans-serif;
      font-size: small;
      text-align: center;
      color: #fff;
      line-height: 1.8em;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Acme', sans-serif;
      font-size: 200%;
    }
    a       { color: #66ccf7; }
    a:hover,
    a:active { color: #08c; }

    .title {
      background-color: #3f4447;
      text-align: left;
      padding: 20px 2%;
      min-width: 200px;
    }

    .main {
      padding: 20px 2%;
      text-align: left;
    }

    h1 a,
    h2 a {
      text-decoration: none;
    }

    h2 span {
      font-size: 60%;
      padding-top: 5px;
      display: block;
    }
    p { margin: 1em 0; }

    .title h1 {
      display: inline;
    }

    .title .ad {
      display: none;
    }

    .title .menu-toggle {
      position: absolute;
      top: 20px;
      right: 2%;
      font-size: 200%;
    }

    .mbl {
      display: block;
    }

    .mbl-inln {
      display: inline;
    }

    .dskt {
      display: none;
    }

    .footer {
      width: 100%;
      text-align: center;
      background-color: #333;
    }

    .footer p { margin: 20px; }

    .nav {
      display: none;
    }

    .active .nav {
      display: block;
    }

    ul.nav {
      list-style: none;
    }

    .nav li {
      background-color: #66ccf7;
      border-bottom: solid 1px #3f4447;
      padding: 5px 0;
    }

    .nav li:hover,
    .nav li:active {
      background-color: #08c;
    }

    .nav li:last-child {
      border-bottom: none;
    }

    .nav li a {
      color: #333;
      text-decoration: none;
    }

    table {
      min-width: 200px;
      text-align: center;
    }

    @media screen and (min-width: 700px) {

      body {
        display: table;
      }

      .nav {
        display: block;
      }

      .nav li {
        border-bottom: solid 1px #fff;
        background-color: transparent;
        padding: 0;
      }

      .nav li a {
        color: #66ccf7;
      }

      .nav li:hover {
        background-color: transparent;
      }

      .nav li:hover a {
        color: #08c;
      }

      .title {
        display: table-cell;
        width: 200px;
        height: 100%;
        text-align: right;
        z-index: 2;
        padding: 20px 2%;
      }

      .title h1 {
        display: block;
      }

      .title .ad {
        display: inline-block;
        width: 160px;
        height: 600px;
        margin-top: 20px;
        text-align: right;
      }

      .main {
        display: table-cell
        /*width: 76%;*/
      }

      .main .article {
        max-width: 800px;
        min-width: 550px;
      }

      .footer {
        max-width: 820px;
        text-align: right;
      }
      
      .mbl, .mbl-inln {
        display: none;
      }

      .dskt {
        display: block;
      }
    }

    .pagination h2 {
      padding: 20px 0;
    }

    .pagination a, 
    .pagination span {
      display: inline-block;
      padding: 5px 10px;
    }

    .pagination a {
      background: #66ccf7;
      color: #333;
      text-decoration: none;
    }

    .pagination a:hover,
    .pagination a:active {
      background: #08c;
    }

    .pagination span {
      background: #3f4447;
      color: #66ccf7;
    }

  </style>

  <meta property="og:title" content="Wisp - Js13kGames" />
  <meta property="og:url" content="http://littleball.co.uk/blog/2014/09/13/js-13k-games/" />
  <meta property="og:site_name" content="littleball." />

  <script>
    if (window.location.origin.search(/https?\:\/\/localhost/) === -1) {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-24534226-1', 'littleball.co.uk');
      ga('require', 'linkid', 'linkid.js');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    }
  </script>
</head>
<body id="top">
  <div class="title">
    <h1>
      <a href="/">littleball.</a>
    </h1>
    <a id="menuToggle" class="menu-toggle mbl"><i class="icon-menu"></i></a>
    <p class="dskt">
      Games, tools and other random bits and pieces.
    </p>
    <div class="desktop-nav dskt">
      <ul class="nav">
  <li>
    <a href="/about"><i class="icon-info"></i> About</a>
  </li>
  <li>
    <a href="/games"><i class="icon-rocket"></i> Games</a>
  </li>
  <li>
    <a href="https://github.com/Eruant"><i class="icon-github"></i> Github</a>
  </li>
  <li>
    <a href="https://twitter.com/mrGale"><i class="icon-twitter"></i> Twitter</a>
  </li>
</ul>

    </div>
  </div>

  <div class="mobile-nav mbl" id="nav">
    <ul class="nav">
  <li>
    <a href="/about"><i class="icon-info"></i> About</a>
  </li>
  <li>
    <a href="/games"><i class="icon-rocket"></i> Games</a>
  </li>
  <li>
    <a href="https://github.com/Eruant"><i class="icon-github"></i> Github</a>
  </li>
  <li>
    <a href="https://twitter.com/mrGale"><i class="icon-twitter"></i> Twitter</a>
  </li>
</ul>

  </div>

  <div class="main">
    <div class="article">
      <h2>Wisp - Js13kGames</h2>
<p class="meta">
  13 Sep 2014
  
    | <span>games</span>
  
    | <span>js13kgames</span>
  
</p>

<div class="social">
  <!-- AddThis Button BEGIN -->
  <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_google_plusone_share"></a>
    <a class="addthis_button_reddit"></a>
    <a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
  </div>
  <script type="text/javascript">
    var addthis_config = {"data_track_addressbar":true};
  </script>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51e2ce4f0add46e3"></script>
  <!-- AddThis Button END -->
</div>

<div class="post">
<p>Thirteen kilobytes is not a great amount. It&#39;s about the same size as the <a href="https://developers.google.com/speed/docs/insights/PrioritizeVisibleContent">above the fold limit</a> for <code>css</code>. JS13kGames&#39; challenge was to build a whole game within this limit. Challenge accepted.</p>

<p><a href="http://js13kgames.com/entries/wisp">Play the game</a></p>

<h2>Building the game</h2>

<p>As the game would have to be put on <a href="https://github.com/Eruant">Github</a> anyway, I thought it would be a good exercise running the whole project from there. The first thing I did after some quick prototyping was to go to the issues page and set up some milestones. I then generated issues and used them as my to do list.</p>

<p>Now that my organising had been done, I needed a way of being aware of my size limit. So I set up a quick <code>gulp</code> file to handle that. I organised my <code>html</code> with <code>jade</code> and <code>css</code> with <code>scss</code>. It may have been overkill, but I like to future proof my games. It also resulted in having to a) write less, and b) have any errors highlighted in the build process.</p>

<p>The JavaScript was written in pure JavaScript. I normally use <a href="http://browserify.org/">browserify</a>, but I didn&#39;t want to bloat the code at all. Using vanilla JavaScript also reminded me of some old trick to make sure the code is working correctly. I was adding some additional documentation, and I noticed a few things I would like to change. Some of the issues would be solved with a better module structure. In future projects I may look into using <a href="http://www.typescriptlang.org/">TypeScript</a> which would help with some of my class issues. I would also have a flatter structure, I ended up having functions relying on each other. I ended up passing in objects too often. Lesson learnt for next time.</p>

<h3>Sound</h3>

<p>One of my big issues was creating sounds. At 13kb adding even and image could take you over the limit, so a sound file would take up too much space. I read an <a href="http://codepen.io/jackrugile/blog/arcade-audio-for-js13k-games">article</a> on generating sounds with <a href="https://github.com/mneubrand/jsfxr">jsfxr</a>. This immediately struck a chord, as I&#39;ve uses <a href="http://www.bfxr.net/">Bfxr</a> many times for my Ludum Dare games.</p>

<p>It enabled me to bring the game to life with just a few extra bytes, so at first I was over the moon. It comes was a large drawback, and that is it takes time for the sound to be processed. On the desktop this didn&#39;t make much difference, but it caused me issues when it came to mobile devices.</p>

<h3>Touch devices</h3>

<p>There are three categories in the competition: desktop, mobile, and server. I wanted to enter into both the desktop and mobile categories. To do this I enabled touch input and tracked the first two fingers.</p>

<p>My trick was to take the start event and save the position. When the finger moved, the direction away from the start point became the direction for the input. This would then match the cursor keys for movement.</p>

<p>The second finger was used to control the element state. Again, each direction would match a state.</p>

<p>However, due partly to the sound processing, and partly due to the performance strains I added with particle emitters; mobile devices took an age to load. Time was running out and I didn&#39;t manage to solve these issues before the deadline, and so I just entered the game for the desktop category. If you want to try it on a touch device, go for it. I have warned you of the loading times.</p>

<h3>Documentation</h3>

<p>Previously I&#39;ve used <code>JSDuck</code> to document my code. However I&#39;ve the code does not seem to be being maintained much, and so I&#39;ve given <a href="http://usejsdoc.org/">JSDoc</a> a go. So far I&#39;m impressed, although I&#39;ve had to slightly re-think the way I added the code hints. I will leave that for a more in depth article once I&#39;m happy I&#39;ve mastered it.</p>

<h3>Conclusion</h3>

<p>To sum up, I had fun making the game. I&#39;m reasonably happy with the game. The big win for me was writing the code. I always learn something new when entering competitions.</p>

<p><a href="http://js13kgames.com/entries/wisp">Play the game</a></p>

</div>

<div class="pagination">
  <h2>More Articles</h2>
  
  <a href="/blog/2014/07/08/extending-phaser-sprites/">Previous: Extending Phaser Sprites</a>
  

  <a href="#top">Back to top</a>

  
</div>

    </div>
    <div class="footer">
      <p>
        <span class="mbl-inln">
          <a href="https://github.com/Eruant"><i class="icon-github"></i> Github</a> |
          <a href="https://twitter.com/mrGale"><i class="icon-twitter"></i> Twitter</a> |
        </span>
        &copy; littleball. 2011-2014
      </p>
    </div>
  </div>
  <script src="/js/main.js"></script>
</body>
</html>
